<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
</head>
<style>
  html, body {
    margin: 0;
  }
</style>
<body>
<canvas id="dest" height="100" width="100"></canvas>
<script>

var sourceWidth = 128;
var sourceHeight = 128;
var smoothingEnabled = false;
var destCanvas = document.getElementById('dest');
var sourceImg = document.createElement('img');
sourceImg.src = '../2x2.png'
sourceImg.width = sourceWidth;
sourceImg.height = sourceHeight;

var destCtx = destCanvas.getContext('2d');
destCtx.fillStyle = "#FF0000";
destCtx.fillRect(0, 0,  destCanvas.width, destCanvas.height);
destCtx.imageSmoothingEnabled = smoothingEnabled;

// The source rectangle is larger than the source canvas
// The source area is clipped to fit the source image
// and the destination are is clipped in the same proportion
destCtx.drawImage(sourceImg, 0, 0, 2048, 2048, 0, 0, 800, 800);

</script>
</body>
</html>
